CHANGELOG
=========

5.3.4 (unreleased)
------------------

- Nothing changed yet.


5.3.3 (2015-10-29)
------------------

* Fix is_head request [Victor Fernandez de Alba]
* Implemented second endpoint required for new version of stats. /conversations/active [Victor Fernandez de Alba]
* New endpoint for getting the overall messages (filtered) [Victor Fernandez de Alba]
* Fix date filter format, allowing now 01 and 1 month format [Victor Fernandez de Alba]
* Var mismatch [Carles Bruguera]

5.3.2 (2015-07-07)
------------------

* Move optimizer code to catch all query additions [Carles Bruguera]
* Get image/file url when using aggregation [Carles Bruguera]
* Use aggregation to retrieve all user last messages [Carles Bruguera]

5.3.1 (2015-07-01)
------------------

* Include collection name on hash key [Carles Bruguera]
* Globally catch & fix suboptimal $or queries [Carles Bruguera]
* Reorganize debug and probe out of main max code [Carles Bruguera]

5.3 (2015-06-30)
----------------

* Lighten duplicated post search query [Carles Bruguera]
* Optimize timeline query, remove empty query parts [Carles Bruguera]
* Generate unique query list [Carles Bruguera]
* Remove old token fields references [Carles Bruguera]
* Avoid noisy errors on mongodb autoreconnect tests [Carles Bruguera]

5.2 (2015-06-30)
----------------

* Conditionaly enable mongodb_probe & patches [Carles Bruguera]
* Don't wake contexts unless policy is needed [Carles Bruguera]
* Implement way to avoid waking up fresh objects [Carles Bruguera]
* Save test name on reports [Carles Bruguera]
* Refactor security to access always a singleton Security [Carles Bruguera]
* Store mongo_probe reports by request [Carles Bruguera]
* WIP tween and patches to probe mongo queries [Carles Bruguera]
* Optimize context activity search, remove duplicated query [Carles Bruguera]
* Optimize timeline query [Carles Bruguera]

5.1.3 (2015-06-26)
------------------

* Improve author searching [Carles Bruguera]

5.1.2 (2015-06-25)
------------------

* Add token migration script [Carles Bruguera]

5.1.1 (2015-06-21)
------------------

* Don't assume properties exist [Carles Bruguera]

5.1 (2015-06-19)
----------------

* Fix view permissions on activity fields [Carles Bruguera]
* Fix listing activities from deleted contexts [Carles Bruguera]
* Add delete exception endpoint [Carles Bruguera]
* Merge branch 'develop' of github.com:UPCnet/max into develop [Carles Bruguera]
*  [Carles Bruguera]
* Conflicts: [Carles Bruguera]
* max/models/context.py [Carles Bruguera]
* max/rest/contexts.py [Carles Bruguera]
* max/rest/conversations.py [Carles Bruguera]
* max/rest/people.py [Carles Bruguera]
* max/rest/utils.py [Carles Bruguera]
* max/tests/__init__.py [Carles Bruguera]
* max/tests/base.py [Carles Bruguera]
* max/tests/test_avatars.py [Carles Bruguera]
* max/tests/test_formatters.py [Carles Bruguera]
* max/tests/test_twitter_api.py [Carles Bruguera]
* Migrate to new JSONRootResource [Carles Bruguera]
* Make Resource root use request as param [Carles Bruguera]
* Use pure regex to extract markdown docstrings [Carles Bruguera]
* Safe default for exceptions [Carles Bruguera]
* Documentation and markdown stuff [Carles Bruguera]
* Modifiers anotations on endpoint method [Carles Bruguera]
* Add a markdown utility to parse documentation [Carles Bruguera]

5.0 (2015-05-19)
----------------

* Remove unused logger [Carles Bruguera]
* Get exceptions sorted by date [Carles Bruguera]
* Change way to store exceptions [Carles Bruguera]
* Use new token api on tests [Carles Bruguera]
* Enable way for deprecations to alter response [Carles Bruguera]
* Fix message sorting [Carles Bruguera]
* Remove unused line [Carles Bruguera]
* Temporary fix to return a person instead of a token [Carles Bruguera]
* Missing param [Carles Bruguera]
* Do reversion on flatten [Carles Bruguera]
* Fix message sorting [Carles Bruguera]
* Better exception handling on IterEncoder [Carles Bruguera]
* Grant permission on model [Carles Bruguera]
* Allow self-creating user to view subscription fields [Carles Bruguera]
* Return full user info on create user 200 [Carles Bruguera]
* Fix contex subscription listing [Carles Bruguera]
* Missing subscriptions raise a NotFound error [Carles Bruguera]
* Separat forbidden view to be able to ignore it on scan [Carles Bruguera]
* Generic way to get a user ACL for a context [Carles Bruguera]
* Fix test [Carles Bruguera]
* Test filter subscriptions by tag [Carles Bruguera]
* Fix tests [Carles Bruguera]
* Set a few pragmas [Carles Bruguera]
* Test get named size when missing [Carles Bruguera]
* Test bad upload [Carles Bruguera]
* Test raw response parsing [Carles Bruguera]
* Test raw request parsing [Carles Bruguera]
* un-pragma saveException [Carles Bruguera]
* Test api endpoints [Carles Bruguera]
* Test request dumper [Carles Bruguera]
* Test search by comments keywords [Carles Bruguera]
* recover signaled request dumper [Carles Bruguera]
* Fix exception on reconnect loop [Carles Bruguera]
* Remove unused code and conditions [Carles Bruguera]
* Remove ineccesary condition [Carles Bruguera]
* Test branching cases for better coverage [Carles Bruguera]
* Test mixed squash/preserve params on flatten [Carles Bruguera]
* Test context pushtokens [Carles Bruguera]
* Optimize and test sortby deprecation [Carles Bruguera]
* Test GET Tunneling [Carles Bruguera]
* Test compat id header [Carles Bruguera]
* Tests for image rotation and url shortening [Carles Bruguera]
* Add tests for twitter edge cases [Carles Bruguera]
* Fix oauth mock [Carles Bruguera]
* Coverage fixes [Carles Bruguera]
* Remove support for non-standard oauth [Carles Bruguera]
* Fix unmocked twitter test [Carles Bruguera]
* Rewrite sorting tests to use new sort parameters [Carles Bruguera]
* Add a deprecated test for old sortBy parameter [Carles Bruguera]
* Recover ios token validator [Carles Bruguera]
* Reorder tweens, fix debug tween setup [Carles Bruguera]
* Test Mongodb Autoreconnect [Carles Bruguera]
* Replace pyramid exc_view tween for customized one [Carles Bruguera]
* Recover AutoReconnect feature on new exc_view tween [Carles Bruguera]
* Refactor requires_user predicate on get_request_actor [Carles Bruguera]
* Finish removing attribute setter/getter [Carles Bruguera]
* WIP remove custom attribute getters [Carles Bruguera]
* Convert some more searches to generators [Carles Bruguera]
* Use generators to feed results [Carles Bruguera]
* Make json.dumps and flatten generator-aware [Carles Bruguera]
* Copy on flatten [Carles Bruguera]
* Improve model flattening checking field permissions on flatten [Carles Bruguera]
* Cache AuthenticationPolicy methods per-request [Carles Bruguera]
* Fill undocumented endpoints with dummy text [Carles Bruguera]
* Tidy docstrings of all endpoints [Carles Bruguera]
* Docstrings [Carles Bruguera]
* PEP8 [Carles Bruguera]
* Reorganize utils [Carles Bruguera]
* Fix permission chickenegg [Carles Bruguera]
* Reorganize routes to maintain priorities [Carles Bruguera]
* Remove unnecessary raises on endpoints [Carles Bruguera]
* Simplify and relocate JSON Resource wrappers [Carles Bruguera]
* PEP8 [Carles Bruguera]
* Tidy routes, remove unused, remove NotImplemented [Carles Bruguera]
* Finish migrating and test timeline acls [Carles Bruguera]
* New proof of concept for the documentation [Victor Fernandez de Alba]
* Remove old decorators module [Carles Bruguera]
* Remove unused method [Carles Bruguera]
* Change view decorators [Carles Bruguera]
* Fix wrong view decorator [Carles Bruguera]
* Fix endpoint introspection [Carles Bruguera]
* typo [Carles Bruguera]
* Get rid of using get_current_request [Carles Bruguera]
* Refactor db, collection and models to initialize with request [Carles Bruguera]
* Refactor model constructors to classmethods [Carles Bruguera]
* request.db now holds a MADMAxDB instance [Carles Bruguera]
* Migrate fromObject and fromDatabase to classmethods [Carles Bruguera]
* Remove roles attr from request [Carles Bruguera]
* Pep 8 rename method [Carles Bruguera]
* Completely remove RestrictedPredicate [Carles Bruguera]
* Replace builtin deepcopy with custom faster one [Carles Bruguera]
* Filter subscriptions by url prefix [Carles Bruguera]
* Fix create exchanges on new user [Carles Bruguera]
* Rename handlers and recover lastComment on insert [Carles Bruguera]
* Fix tests [Carles Bruguera]
* Fix after insert handlers [Carles Bruguera]
* Be aware of unexpected bodies [Carles Bruguera]
* Use reified payload property [Carles Bruguera]
* Refactor RUDict to preserve non-dicts and deepcopy all plain dicts [Carles Bruguera]
* Update request.decoded_payload instead of the body [Carles Bruguera]
* Change 401 for 403 [Carles Bruguera]
* Fix delete with User [Carles Bruguera]
* Add endpoints to get tokens from user & tests [Carles Bruguera]
* Fix adding a already present token [Carles Bruguera]
* Centralize database collection droping on setUp [Carles Bruguera]
* Add token tests [Carles Bruguera]
* Rewrite and test token endpoints as standalone obj [Carles Bruguera]
* Add missing join/leave deprecation tests [Carles Bruguera]
* Add depreactions & tests for add/delete token [Carles Bruguera]
* Finish migrating and testing social interactions [Carles Bruguera]
* Fix remove temp repository [Carles Bruguera]
* ACL tests for image & file attachments on messages [Carles Bruguera]
* Fix assert [Carles Bruguera]
* Fix texts 401 -> 403 and some bugs [Carles Bruguera]
* Finish messages migration [Carles Bruguera]
* Fix get activity from db [Carles Bruguera]
* Fix single messages creation [Carles Bruguera]
* Fix mocker [Carles Bruguera]
* Finish migrating conversation endpoints [Carles Bruguera]
* Add new permissions kick and invite and refactor conversations machinery to reflect that [Carles Bruguera]
* Add deprecations for join and leave conversation [Carles Bruguera]
* Change creator request property to an object [Carles Bruguera]
* Move old creator references to authenticated_userid [Carles Bruguera]
* WIP Social endpoints migration [Carles Bruguera]
* Tune conversation tests [Carles Bruguera]
* Added messages acl tests [Victor Fernandez de Alba]
* Migrate security endpoints and acl-test them [Carles Bruguera]
* Move rest.resources.py to routes.py [Carles Bruguera]
* Test maintenance endpoints acl's [Carles Bruguera]
* Test acls for info endpoints [Carles Bruguera]
* Rename test module [Carles Bruguera]
* Get rid of canWriteInContexts [Carles Bruguera]
* Fix get messages for manager [Carles Bruguera]
* WIP Migration and tests for messages [Carles Bruguera]
* New acl conversation tests [Victor Fernandez de Alba]
* missing test manager [Carles Bruguera]
* WIP Migrating conversation endpoints [Carles Bruguera]
* Fix and test imporsonation use cases [Carles Bruguera]
* Migrate favorite endpoints [Carles Bruguera]
* @reify instead of @property on all __acl__ [Carles Bruguera]
* Add avatars acl tests [Carles Bruguera]
* Rename list permissions [Carles Bruguera]
* Grant read permission on public contexts [Carles Bruguera]
* Fix some tests related to public contexts [Carles Bruguera]
* split comment and sorting tests [Carles Bruguera]
* Fix activity view permission [Carles Bruguera]
* Fix public contexts query [Carles Bruguera]
* Finish migrating comments to the new security model [Carles Bruguera]
* Add missing unsubcribe permission [Carles Bruguera]
* Simplify custom attribute and item getters [Carles Bruguera]
* Add event handlers [Carles Bruguera]
* Fix test error codes asserts and dup activity creation [Carles Bruguera]
* Refactor recursive contexts to use permissions [Carles Bruguera]
* Fix and split security tests [Carles Bruguera]
* Fix duplication detection between context and non-context activities [Carles Bruguera]
* Fix post to context as context [Carles Bruguera]
* Refactor susbcription/s traversers to contexts [Carles Bruguera]
* Fix body extraction on edge cases [Carles Bruguera]
* Fix debug check_token patch [Carles Bruguera]
* Modify @endpoint, sub-decorator invalidates double decorated endpoints [Carles Bruguera]
* Add missing test_manager [Carles Bruguera]
* Finish context tags security and fix context tests [Carles Bruguera]
* Separate POST and DELETE deprecation wrappers [Carles Bruguera]
* Temporary disable notfoundview [Carles Bruguera]
* Fix crash when scavenger ran before route match [Carles Bruguera]
* Add deprecatio wrapper for unsubscribe [Carles Bruguera]
* Setup token endpoint permissions [Carles Bruguera]
* Recover lost case insensitive username [Carles Bruguera]
* Fix changed error messages [Carles Bruguera]
* Unify get people listing [Carles Bruguera]
* Fix user field permissions [Carles Bruguera]
* Move token tests appart [Carles Bruguera]
* Fix tests [Carles Bruguera]
* Fix various create test_manager and activity dups [Carles Bruguera]
* Refactor headers extraction to raise Unauthorized before UserUnknown [Carles Bruguera]
* Fix endpoint permissions definition [Carles Bruguera]
* Fix minor glitches [Carles Bruguera]
* Fix duplicated creations of test_manager [Carles Bruguera]
* Fix creation of duplication activity 200 201 [Carles Bruguera]
* Change references from context.db to request.db [Carles Bruguera]
* Fix some 401 to 403 in tests [Carles Bruguera]
* Add missing create test manager in tests [Carles Bruguera]
* Fix extract_post_params when payload is list [Carles Bruguera]
* Completely remove oauth2 decorator [Carles Bruguera]
* Completely remove MaxResponse and requirePersonActor [Carles Bruguera]
* Organize unmigrated endpoints and change remaining view decorators [Carles Bruguera]
* Get rid of canWriteInContexts [Carles Bruguera]
* Use Subscription object as return of actor.getSubscription [Carles Bruguera]
* Fix tests [Carles Bruguera]
* Prepare comments traversal, permissions and tests [Carles Bruguera]
* Create test_managers [Carles Bruguera]
* Migrate activities [Carles Bruguera]
* Move flag endpoints to a new social.py [Carles Bruguera]
* Create activity traverser, permissions and tests [Carles Bruguera]
* Test deprecated endpoint wrappers [Carles Bruguera]
* Finish migrate subscription permissions management [Carles Bruguera]
* Finish migrating get subscriptions from context or user [Carles Bruguera]
* Avoid fetching the user twice in People traverser [Carles Bruguera]
* Refactor field permissions systems to use ACL Policy [Carles Bruguera]
* WIP get user subscriptions and tests [Carles Bruguera]
* Migrate routes to dict() format, for syntax coluring... [Carles Bruguera]
* Mechanish to automatically wake lazy objects on field access [Carles Bruguera]
* Refactor user_required as requires_actor [Carles Bruguera]
* Move request reified properties to app configuration [Carles Bruguera]
* Move all request data extraction methods to max.request [Carles Bruguera]
* Migrate and test unsubscribe and subscribe endpoints [Carles Bruguera]
* Add a Fake subscriptions traverser [Carles Bruguera]
* Migrate people endpoints [Carles Bruguera]
* Use context param of endpoints as collection to queyr [Carles Bruguera]
* Use MADMaxCollection as a base for root traversers [Carles Bruguera]
* Add a tween to take care of deprecated requests [Carles Bruguera]
* Remove the bad endpoint POST /people/{user} to create users [Carles Bruguera]
* Move endpoints for cleanup [Carles Bruguera]
* Create a specific dir for acl tests [Carles Bruguera]
* Refactor info_api to match new @endpoint decorator [Carles Bruguera]
* Get rid of venusian patch, now incorporated to @endpoint [Carles Bruguera]
* WIP custom venusian decorator to replace view_config [Carles Bruguera]
* Finish migrating context-related endpoints [Carles Bruguera]
* Exception view to capture all uncatched exceptions [Carles Bruguera]
* Fix JSONHttpException initialization [Carles Bruguera]
* Auto-grant permission on head requests [Carles Bruguera]
* Tidy endpoints [Carles Bruguera]
* Mental sanity improvements on base test app [Carles Bruguera]
* Move out subscription and token endpoints [Carles Bruguera]
* Migrate CRUD context endpoints [Carles Bruguera]
* Add permissions [Carles Bruguera]
* Add test_acls to test only endpoint access acls [Carles Bruguera]
* Fix missing context avatar [Carles Bruguera]
* Set image missing default file [Carles Bruguera]
* New location for conversation avatars [Carles Bruguera]
* Move context avatars to new dynamic location [Carles Bruguera]
* Fix bitly urls when on htttps [Carles Bruguera]
* Move apart tests usign real twitter api [Carles Bruguera]
* Refactor avatar tests WIp [Carles Bruguera]
* Organize new security code [Carles Bruguera]
* New exception cathing mechanism using pyramid exception views [Carles Bruguera]
* WIP [Carles Bruguera]
* Refactor people avatars storage [Carles Bruguera]
* Fix maintenance [Carles Bruguera]
* Fix maintenance [Carles Bruguera]
* UPdate editable user fields [Carles Bruguera]
* Safe delete keys in flatten [Carles Bruguera]
* refactor updateSubscriptions to avoid empty updates [Carles Bruguera]
* Fix bug on modifying context with same permissions [Carles Bruguera]
* Fix method arguments [Carles Bruguera]

4.0.26 (2015-03-11)
-------------------

* /context/{hash} now shows all permission, event defaults [Carles Bruguera]
* Set context permission permanency to True [Carles Bruguera]
* Allow access to any endpoint authenticated req. via HEAD [Carles Bruguera]
* Refactor permission grants to be permanent only if requested [Carles Bruguera]
* Set safe defaults [Carles Bruguera]
* PEP8 [Carles Bruguera]
* Fix tags filter on people subscriptions query [Carles Bruguera]
* PEP8 and remove file log [Carles Bruguera]
* Return permissions in context subscriptions endpoint [Carles Bruguera]
* Fix error responses [Carles Bruguera]
* Fix default sorting [Carles Bruguera]
* Fix 204 content length errorx [Paco Gregori]
* Validate existence of username [Carles Bruguera]
* Add a rest-compliant user adder endpoint [Carles Bruguera]
* Add endpoint to check user roles [Carles Bruguera]
* Add HubManager role [Carles Bruguera]

4.0.25 (2015-02-24)
-------------------

* Rerelease to fix bad release

4.0.24 (2015-02-24)
-------------------

* Fix crash on admin posting images without text [Carles Bruguera]

4.0.23 (2015-02-24)
-------------------

* Fix failing tests [Carles Bruguera]
* Don't assume we'll have a content [Carles Bruguera]
* make sure format_raw_request don't crash [Carles Bruguera]

4.0.22 (2015-02-20)
-------------------

* Include server id on basic info [Carles Bruguera]
* Fix for comment keyword search [Carles Bruguera]
* Add admin method to get all context's activities [Carles Bruguera]
* Finish sorting refactoring [Carles Bruguera]
* Sorting refactor WIP [Carles Bruguera]

4.0.21 (2015-01-20)
-------------------

* Use new sorting style on timeline [Carles Bruguera]
* Store flagged as a data [Carles Bruguera]
* Custom method for each sortBy case [Carles Bruguera]
* Flag/unflag based on context permissions [Carles Bruguera]
* Flag/unflag endpoint [Carles Bruguera]
* Disable connection close [Carles Bruguera]

4.0.20 (2014-12-18)
-------------------

* Do not try to recreate exchanges if user exists [Carles Bruguera]
* Fixed bug on batch posting same avtivity on diff contexts [Carles Bruguera]
* Pylint [Carles Bruguera]

4.0.19 (2014-12-04)
-------------------

* Fix lastMessage not in response [Carles Bruguera]

4.0.18 (2014-12-04)
-------------------

* Fix conversation subscription get bug [Carles Bruguera]
* Use greenlets on mongodb only if gevent present [Carles Bruguera]
* Enable a request dumper toggled by USR1 signal [Carles Bruguera]
* Prevent logging of requests within gevent [Carles Bruguera]

4.0.17 (2014-12-01)
-------------------

* Enable show_fields as a request switch [Carles Bruguera]

4.0.16 (2014-11-29)
-------------------

* Don't store extended conversation info on user [Carles Bruguera]
* Get fresh conversation info on GET people/{username}/ [Carles Bruguera]

4.0.15 (2014-11-28)
-------------------

* Use maxutils.mongodb to connect [Carles Bruguera]

4.0.14 (2014-11-25)
-------------------

* Missing comma [Carles Bruguera]

4.0.13 (2014-11-25)
-------------------

* Var name mismatch [Carles Bruguera]

4.0.12 (2014-11-25)
-------------------

* Export stomp server url if defined [Carles Bruguera]
* Delete exchanges on user delete [Carles Bruguera]
* Added permissions field to the subscribed users endpoint [Victor Fernandez de Alba]
* Wrong method name [Carles Bruguera]

4.0.11 (2014-10-27)
-------------------

* Prepare max to handle auth and non-auth mongodbs [Carles Bruguera]
* Disconnect clients after operation [Carles Bruguera]
* Provide client_properties to maxcarrot [Carles Bruguera]
* Delete unused version file [Carles Bruguera]
* Bug on trying to print exc. with images in request [Carles Bruguera]
* Test multiple unsetting [Carles Bruguera]

4.0.10 (2014-09-25)
-------------------

* Return the rotated image [Carles Bruguera]
* Fix rotation [Carles Bruguera]
* Rotate image by EXIF value if needed [Carles Bruguera]
* Test calling with bad body [Carles Bruguera]
* Make maxui docs generic domain-based [Carles Bruguera]
* GLobal user comments and stats [Carles Bruguera]
* Update maxui dev steps docs [Carles Bruguera]
* Check data type before accessing like a dict [Carles Bruguera]
* Fridge for robot tests on MAX [Victor Fernandez de Alba]
* BUG: Disallow creating conversations with oneself [Carles Bruguera]

4.0.9 (2014-07-29)
------------------

* Fix tests [Carles Bruguera]
* Allow create user without rabbitmq notifications [Carles Bruguera]
* Create unconditionally rabbitmq structres when trying to create an existing user [Carles Bruguera]
* Add test post to context without notifications [Carles Bruguera]

4.0.8 (2014-07-23)
------------------

* Temporary fix for the sync disconnect problem [Carles Bruguera]

4.0.7 (2014-07-21)
------------------

* Provide current version defined in setup.py [Carles Bruguera]

4.0.6 (2014-07-21)
------------------

* Test date_filter on user_activity stats [Carles Bruguera]
* Allow to specify published data, store real published as _created [Carles Bruguera]
* Add a date filter mechanism [Carles Bruguera]
* Notify comments on specified contexts [Carles Bruguera]
* Deepcopy mock message that was being overwritten [Carles Bruguera]
* PEP8 [Carles Bruguera]
* Context notifications based on a literal instead of bool [Carles Bruguera]
* Tests on contexts with notifications [Carles Bruguera]
* Provide return values in existing tests used in rabbitmq tests [Carles Bruguera]
* Conditional rabbitmq tests boilerplate [Carles Bruguera]
* Simplify custom exception classes [Carles Bruguera]
* Refactor notifications into a wrapper class [Carles Bruguera]
* Move calls to notifications on ws endpoints to models (except conversation creation) [Carles Bruguera]
* Raise 503 when rabbitmq not available on starting max [Carles Bruguera]
* Fix dependencies [Carles Bruguera]

4.0.5 (2014-07-16)
------------------

* Send username and displayname as dict [Carles Bruguera]

4.0.4 (2014-07-08)
------------------

* Use real subscriptions to get conversation tokens [Carles Bruguera]
* Fix method definition [Carles Bruguera]
* Add endpoint to delete all tokens by platform [Carles Bruguera]
* Endpoint to delete conversations from everybody [Carles Bruguera]
* Added customizable events to delete subscribe and unubscribe [Carles Bruguera]
* Update rabbitmq bindings on adding/deleting people to a conversation [Carles Bruguera]
* Update venusian patch to be generic [Carles Bruguera]
* Add bindings only to required contexts [Carles Bruguera]

4.0.3 (2014-06-11)
------------------

* Don't crash on receiving a list in extractPostData [Carles Bruguera]
* Were passing actor instead of username... [Carles Bruguera]

4.0.2 (2014-06-10)
------------------

* Missing dependency [Carles Bruguera]
* Info endpoint by category for documentation [Victor Fernandez de Alba]
* Update avatar generation [Victor Fernandez de Alba]
* Move code used to show  conv. displayName to model [Carles Bruguera]
* Move code used to show last Message to model [Carles Bruguera]
* Fix change context url [Carles Bruguera]
* Add method to determine effective displayName [Carles Bruguera]
* Move user info construction to model [Carles Bruguera]
* Fix tabs [Carles Bruguera]
* Log exceptions oif configured in settings (for wsgi client) [Carles Bruguera]
* Add exceptions list endpoint [Carles Bruguera]
* Check if folder exists [Carles Bruguera]

4.0.1 (2014-05-08)
------------------

* Documentation [Carles Bruguera]
* Do not expect content always [Carles Bruguera]
* Don't always expect content on messages [Carles Bruguera]
* Value not needed, already present in headers [Carles Bruguera]
* Context url renaming with changes propagation [Carles Bruguera]
* Fix maintenance subscriptions endopoint & test [Carles Bruguera]
* Remove debug prints [Carles Bruguera]
* Add maintenance users endpoint with test [Carles Bruguera]
* Move maintenance tests to new file [Carles Bruguera]
* Don't str a None please... [Carles Bruguera]
* Add Tween to block calls to incompatible apps [Carles Bruguera]
* Read filename from json first [Carles Bruguera]
* Recover reading from post params [Carles Bruguera]
* Fix typos and identation [Carles Bruguera]
* Get header directly from request [Carles Bruguera]
* base64 responses for image data [Carles Bruguera]
* Get filename from uploaded file [Carles Bruguera]
* Enable post-body auth and tunneled GET requests [Carles Bruguera]
* Update docs [Carles Bruguera]
* Use mimetype included in form content-type header [Carles Bruguera]
* Update documentation [Carles Bruguera]
* Updated expected responses: notification field [Carles Bruguera]
* Move image and file retrieval common code to activity model [Carles Bruguera]
* get message images in a different method [Carles Bruguera]
* Last message may not contain text [Carles Bruguera]
* Refactor file/image upload [Carles Bruguera]
* Use a unique fieldname "file" to upload data [Carles Bruguera]
* All content fields in one level [Carles Bruguera]
* Generalize image sizes [Carles Bruguera]
* Fix message images referencing [Carles Bruguera]
* Note content not mandatory on images and files [Carles Bruguera]
* Add image extractic to admin conversation messages [Carles Bruguera]
* Add image extraction code for addAdminUserActivity [Carles Bruguera]
* return content-type value as string [Carles Bruguera]
* don't assume activity always has contexts [Carles Bruguera]
* Include correct user data in notification [Carles Bruguera]
* Allow notifications field [Carles Bruguera]
* Include notifications in updatable user subscriptions data [Carles Bruguera]
* Bad method name [Carles Bruguera]
* Set/delete bindings on updating notification value [Carles Bruguera]
* Add notifications for context activities [Carles Bruguera]
* Change regex to match missing properties and egg [Carles Bruguera]

4.0.0 (2014-04-15)
------------------

* Update documentation [Victor Fernandez de Alba]
* Raise Forbidden on joining a two-user conversation [Carles Bruguera]
* Upload files and images to remote context / locally feature [Victor Fernandez de Alba]
* Add admin endpoint to post messsages as arbitrary user [Carles Bruguera]
* Create user exchanges on user creation [Carles Bruguera]
* Disable message Notifications [Carles Bruguera]
* Refactor conversation creation notifications with rabbitpy [Carles Bruguera]
* Allow add people to conversations based on susbcribe permission [Carles Bruguera]
* Distinguish group and archived conversations by tags [Carles Bruguera]
* Add api export endpoint
* Add maxserver info endpoint
* Fetch only the last message on conversations[Carles Bruguera]
* Add GPL License [Victor Fernandez de Alba]
* Return [] when an unknown permission asked [Carles Bruguera]
* Provide tag information on create conv. response [Carles Bruguera]
* Fix text: conversations 3>2 preserves displayName [Carles Bruguera]
* Exclude group conversations from search [Carles Bruguera]
* Tag and untag as archived conversation when needed [Carles Bruguera]
* Added endpoint to get user chat subscription [Carles Bruguera]
* Set correct displayName on conv. creation [Carles Bruguera]
* Fix grant and revoke user methods, make generic [Carles Bruguera]
* Tidy up schema definitions and security methods [Carles Bruguera]
* Added last message to getConversation [Carles Bruguera]
* Added remaining items header to getMessages [Carles Bruguera]
* Add limiting of results on getMessages [Carles Bruguera]
* List HEAD requests [Carles Bruguera]
* Add remaining search items to headers [Carles Bruguera]
* Change port for Jenkins [Victor Fernandez de Alba]
* Add robot tests [Victor Fernandez de Alba]
* Fix signature of decorated functions [Carles Bruguera]
* Patch venusian to get the real function name [Carles Bruguera]
* Remove unused  auth resources [Carles Bruguera]
* Add endpoint to recover exception logs [Carles Bruguera]
* Add skip tests conditions in case Twitter API involved. [Victor Fernandez de Alba]
* Add dummy load of cloudAPIs data. [Victor Fernandez de Alba]
* More ownership transfer tests [Carles Bruguera]
* Endpoint to transfer ownership [Carles Bruguera]
* Look for username in PUT requests too [Carles Bruguera]
* Add an endpoint to get roles grouped by user [Carles Bruguera]
* Adapt to new mutable method [Carles Bruguera]
* Allow admin modify any user profile [Carles Bruguera]
* Extend username filter to use also displayName [Carles Bruguera]
* Add context comments count endpoint [Carles Bruguera]
* Downloading of named avatar sizes [Carles Bruguera]
* Add roles of the authenticated user to the request [Carles Bruguera]
* Add roles over the current object in the models [Carles Bruguera]
* Make field visibility role-based [Carles Bruguera]
* Fix twitter avatar download mocker [Carles Bruguera]
* Refactor mutable properties getter using roles [Carles Bruguera]
* Rename VIP as NonVisible [Carles Bruguera]
* Allow NonVisible feature with restricted_visibility disabled [Carles Bruguera]
* Refactor tests to match the increased combinations [Carles Bruguera]
* Vip mode doesn't give visibility over subscription [Carles Bruguera]
* Add to user a method to check visibility to other user [Carles Bruguera]
* Modify user listing and conversation creation and joining with user visibility checks [Carles Bruguera]
* test [Carles Bruguera]
* Add test base and config settings for vip mode [Carles Bruguera]

3.6 (2014-01-20)
----------------

* Implement like/unlike favorite/unfavorite [Carles Bruguera]
* Implement favorites and most liked views and filters  [Carles Bruguera]

3.5.6 (2013-11-25)
------------------

* Tune maintenance endpoints [Carles Bruguera]
* Ignore ssl errors [Carles Bruguera]

3.5.5 (2013-11-07)
------------------

* Updated documentation report [Carles Bruguera]
* Clean contexts stored in activities posted by context [Carles Bruguera]
* Enhance maintenance conversations to rebuild participants [Carles Bruguera]
* Maintenance endpoint : rebuild last comment dates [Carles Bruguera]
* Add missing multi=True to batch update operations [Carles Bruguera]
* Refactor way of storing last comment to fix bug in sort by comment [Carles Bruguera]
* Activities posted in last minute with same content and same actor will be discarded if actor is impersonated [Carles Bruguera]
* Fix test to catch bug in last-comment-sorting [Carles Bruguera]
* Return partner's displayName as conversation displayname [Carles Bruguera]
* Update conversation's participants displayName on change [Carles Bruguera]
* Refactor conversation participants [Carles Bruguera]
* Make field hold a list of user objects instead of a list of usernames [Carles Bruguera]
* Add maintenance endpoint to rebuild conversation subscriptions [Carles Bruguera]
* Update only fields defined in schema [Carles Bruguera]
* Add maintenance endpoint to rebuild subscriptions [Carles Bruguera]
* Fix bug that could give unwanted permissions sometimes [Carles Bruguera]
* Maintenance endpoint for user subscriptions to contexts [Carles Bruguera]
* Make context updates update all activities context references [Carles Bruguera]
* Make context tag updates update user's subscriptions [Carles Bruguera]
* Make context tag updates update activity's context references [Carles Bruguera]
* Add maintenance endpoint to rebuild activity keywords [Carles Bruguera]
* Store global activity keywords in a separate field [Carles Bruguera]
* Delete comment keywords on comment deletion [Carles Bruguera]
* Unify keyword generation [Carles Bruguera]
* case-insensitive usernames [Carles Bruguera]
* Allow tags field in activities [Carles Bruguera]
* filter activity queries by context_tags [Carles Bruguera]

3.5.4 (2013-10-29)
------------------

* Add conversations avatar endpoint [Carles Bruguera]
* Trim bad characters at the end of actor search [Carles Bruguera]
* Add endpoints to add/remove users to roles [Carles Bruguera]
* Reload security settngs on any change [Carles Bruguera]
* Fix ancient URI reference [Carles Bruguera]
* Add specific endpoints to manage context tags [Carles Bruguera]
* Test modify context overwrites tags [Carles Bruguera]
* Do not remove tags from user subscription data [Carles Bruguera]
* Add displayName and username parts to activity keywords [Carles Bruguera]
* Allow operations mutable to the tags attribute [Victor Fernandez de Alba]
* read limit as integer [Carles Bruguera]
* Unique based on username instead of full object [Carles Bruguera]
* Add displayName on conversation creation if provided [Carles Bruguera]
* Add objectType to errors [Carles Bruguera]

3.5.3 (2013-10-03)
------------------

 * Send restart request time in the body [Carles Bruguera]
 * Initialize always to a empyt dict [Carles Bruguera]
 * Typo in endpoint [Victor Fernandez de Alba]
 * Relax the device token guard [Victor Fernandez de Alba]

3.5.2 (2013-09-17)
------------------

 * Rerelease


3.5.1 (2013-09-13)
------------------

 * Guard on token len [Victor Fernandez de Alba]
 * Add defaults to get tokens endpoint [Victor Fernandez de Alba]

3.5 (2013-09-10)
----------------

 * Bye bye celery [Victor Fernandez de Alba]
 * Delete log prints and fix rabbit url [Carles Bruguera]
 * Cleanup and make use of defined rabbitmq ports [Carles Bruguera]
 * Add tests for duplicated people in conversations [Carles Bruguera]
 * Add unrestricted get /context/{hash} [Carles Bruguera]
 * Updated report [Carles Bruguera]
 * Add permission reset on context subscription docs [Carles Bruguera]
 * Updated expected responses [Carles Bruguera]
 * Fix status codes [Carles Bruguera]
 * Test and finish reset user context permissions [Carles Bruguera]
 * Exception log in tests #awesomenesoftheday [Carles Bruguera]
 * Change grants/vetos location outside permissions [Carles Bruguera]
 * Fix tests [Carles Bruguera]
 * Adapt delete permissions check [Carles Bruguera]
 * Adapt canWriteInContexts to new permission name schema [Carles Bruguera]
 * Return the susbcription with the updated permissions [Carles Bruguera]
 * Return new permissions [Carles Bruguera]
 * Check for the present of the grant, not the permission itself [Carles Bruguera]
 * refactor grant/revoke permission for user in context * Now explicit grants on a permission are marked with a (+) prefix and revokes with a (-) [Carl
 * Calculate subscription permissions, joining defaults, grants and revokes [Carles Bruguera]
 * Deepcopy the flattened copy, cannot deepcopy nested models [Carles Bruguera]
 * Update subscriptions on modify context permissions [Carles Bruguera]
 * Deprecate maxrules tests, renamed to old [Victor Fernandez de Alba]
 * Added server_id parameter to identify the maxserver who emits the message. [Victor Fernandez de Alba]
 * Add deletable mark to comments [Carles Bruguera]
 * Add admin version of delete a comment [Carles Bruguera]
 * Add endpoint to delete a comment by a user [Carles Bruguera]
 * Update tests for correction made previously in post as context endpoint [Victor Fernandez de Alba]
 * Don't require a context to post as a context [Carles Bruguera]
 * Regenerate expected responses without totalItems pattern [sunbit]
 * Fix script to allow jsons starting with array [sunbit]
 * Remove totalItems and items pattern from doctests [sunbit]
 * Refactored to use simple arrays instead of totalItems [sunbit]
 * Fix not restarting on creating Fix imports [sunbit]
 * Restart Tweety process when changing or creating twitterUsername field [sunbit]
 * Add callback after saving a MadObject [sunbit]
 * Add call to restart tweety process via a rabbit queue [sunbit]
 * Move getting the talK_server out of rest code [sunbit]
 * Document new delete permission [sunbit]
 * Update expected results with last fields additions [sunbit]
 * Add displayName to public /people [sunbit]
 * Added new filter options for maxtweety [Victor Fernandez de Alba]
 * Add non-persistent "deletable" attribute to activities Add delete permission to contexts to allow non-owners to delete activities Allow granting del
 * Add displayName to rabbitmq notifications [sunbit]
 * Remove unused import [sunbit]
 * pep8 [sunbit]
 * Add username to the list of push tokens. [Victor Fernandez de Alba]
 * Added back the auth for the new endpoint [Victor Fernandez de Alba]
 * Added new admin endpoint for querying push tokens for a conversation. [Victor Fernandez de Alba]
 * Back to development: 3.4.5 [Victor Fernandez de Alba]
 * Fix manifest [Victor Fernandez de Alba]

3.4.4 (2013-08-02)
------------------

 * Improve the image resizing&cropping. [Victor Fernandez de Alba]
 * Documentation of the upload avatar endpoint [Victor Fernandez de Alba]
 * Use greenlets always in case we are using cluster [Victor Fernandez de Alba]
 * Fix images as png and default avatars folder [Victor Fernandez de Alba]
 * Refactor the MaxResponse part for make it cluster-aware. [Victor Fernandez de Alba]
 * Updated get user's profile avatar. [Victor Fernandez de Alba]
 * Fix comment in decorator [Victor Fernandez de Alba]
 * New endpoint for uploading user's avatar. [Victor Fernandez de Alba]
 * Eliminate the validation of the ios token. [Victor Fernandez de Alba]
 * Fix android store token, no validation on android tokens [Victor Fernandez de Alba]
 * Added documentation for the new endpoints. [Victor Fernandez de Alba]
 * New endpoints to store and delete device tokens for push notifications. [Victor Fernandez de Alba]
 * New user model added new properties to handle devices tokens for push notifications [Victor Fernandez de Alba]
 * Add properties to user model [Victor Fernandez de Alba]

3.4.3 (2013-07-01)
------------------

 * Add new endpoint for return the subscribers given a context
 * Fix tests


3.4.2 (2013-06-21)
------------------

 * Extract maxrules and transfer it to its own package

3.4.1 (2013-06-19)
------------------

 * Add a setting to specify the maxtalk server

3.4 (2013-06-18)
------------------

 * STOMP enabled
 * Merge long run newpermissionmodel/conversations/stomp branch into develop/master

3.3.2 (2013-06-13)
------------------

 * Add support for MongoDB cluster.

3.3.1 (2013-06-04)
------------------

 * Add compatibility with the Osiris oauth server and added fallback for legacy
   oauth servers

3.3 (2013-06-04)
------------------

 * Add debug tools
 * Delete activities
 * DELETE and PUT requests tunneling
 * Timeline and contexts authors list
 * HEAD requests include totalItems count
 * Strip tags from content
 * Public contexts search with tags
 * Add beaker cache to oauth requests
 * BUGFIX: Rollback on failed conversation creation
 * Catch exceptions in a log with a bigmax permalink
 * Documentation report system an rebuilder
 * Group conversations
 * Automatically map model classes to collections
 * Match the package version to the MAXUI version

3.0 (2013-04-15)
----------------

 * Conversations with socket.io
 * Improved tests and documentation
 * Cleanup
 * Unsubscribe from contexts
 * Creation and ownership fields
 * Route unification of /admin and /* endpoints
 * New security implementation fully based on oauth2 and roles on db
 * Public contexts


2.0 (2012-03-01)
----------------

 Added this new features:

 * oAuth based user authentication against a oAuth 2.0 server compliant using *Resource owner password credentials* flow
 * oAuth user - activity actor validation
 * App hooks dirven apps
 * Restricted-API access for app driven hooks
 * Support for restricted-API users and its management UI


1.0 (2011-12-1)
---------------

Initial version, featuring:

 * Compatibility with activitystrea.ms standard
 * RESTful API
 * Add activity (post)
 * Add coment to any activity
 * Follow users
 * Subscribe to URL based contexts
 * Display user timeline
 * No support for oAUTH
 * No support for user profiles
 * User photos resources hardcoded and stored in fs

